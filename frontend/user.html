<!DOCTYPE html>
<html>
<head>
    <title>User Dashboard - Movies</title>
</head>
<body>
    <h2>Welcome User</h2>
    <div id="moviesContainer"></div>

    <script>
    async function fetchMovies() {
        const res = await fetch('http://localhost:3000/movies');
        const movies = await res.json();

        const container = document.getElementById('moviesContainer');
        container.innerHTML = '';

        movies.forEach(movie => {
            const div = document.createElement('div');
            div.innerHTML = `
                <h3>${movie.title} (${movie.release_year})</h3>
                <p>Genre: ${movie.genre}</p>
                <p>Director: ${movie.director}</p>
                <button onclick="window.location.href='movie.html?id=${movie.movie_id}'">View & Add Reviews</button>
                <hr>
            `;
            container.appendChild(div);
        });
    }

    fetchMovies();
    </script>
</body>
</html>
